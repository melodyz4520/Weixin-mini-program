<view class="page">
  <view class="header">
    <view class="header__back" bindtap="onBack">â†</view>
    <text class="header__title">é€‰æ‹©æ—¶é—´</text>
  </view>

  <scroll-view class="scroll" scroll-y>
    <view class="tutor-card">
      <view class="tutor-card__avatar-wrap">
        <view class="tutor-card__avatar">ğŸ‘¤</view>
        <view class="tutor-card__dot"></view>
      </view>
      <view class="tutor-card__info">
        <text class="tutor-card__name">{{tutorName}}</text>
        <text class="tutor-card__courses">{{tutorCourses}} èµ„æ·±åŠ©æ•™</text>
        <text class="tutor-card__school">ğŸ“ UCB</text>
      </view>
    </view>

    <view class="wechat-hint">
      <text class="wechat-hint__title">å¯è”ç»œå¾®ä¿¡å·</text>
      <text class="wechat-hint__desc">å›¢é˜Ÿæˆå‘˜ä¼šè”ç³»æ‹‰ç¾¤,è¯·ç¡®ä¿å¯æœåˆ°å“¦</text>
    </view>

    <view class="calendar-section">
      <view class="calendar-header">
        <view class="calendar-nav" bindtap="onPrevMonth">â€¹</view>
        <text class="calendar-month">{{monthLabel}}</text>
        <view class="calendar-nav" bindtap="onNextMonth">â€º</view>
      </view>
      <view class="calendar-week">
        <text class="calendar-weekday" wx:for="{{weekLabels}}" wx:key="*this">{{item}}</text>
      </view>
      <view class="calendar-days">
        <view
          class="calendar-day {{item.empty ? 'calendar-day--empty' : ''}} {{item.selected ? 'calendar-day--selected' : ''}} {{item.hasSlot ? 'calendar-day--has' : ''}}"
          wx:for="{{calendarDays}}"
          wx:key="index"
          wx:for-index="idx"
          data-day="{{item.day}}"
          bindtap="onDateTap"
        >
          <text wx:if="{{!item.empty}}">{{item.day}}</text>
          <view wx:if="{{!item.empty && item.hasSlot && !item.selected}}" class="calendar-day__dot"></view>
        </view>
      </view>
      <text class="calendar-tz">Time Zone: {{timezone}}</text>
    </view>

    <view class="slots-section">
      <text class="slots-title">{{month}}æœˆ{{selectedDay}}æ—¥ ({{weekLabel}}) å¯ç”¨æ—¶é—´</text>
      <view class="slots-grid">
        <view
          class="slot-item {{selectedSlot === item ? 'slot-item--selected' : ''}}"
          wx:for="{{availableSlots}}"
          wx:key="*this"
          data-slot="{{item}}"
          bindtap="onSlotTap"
        >
          <text wx:if="{{selectedSlot === item}}" class="slot-check">âœ“</text>
          <text class="slot-time">{{item}}</text>
          <text class="slot-duration">30åˆ†é’Ÿ</text>
        </view>
      </view>
    </view>
  </scroll-view>

  <view class="footer">
    <view class="footer__left">
      <text class="footer__label">å·²é€‰æ—¶é—´</text>
      <text class="footer__value">{{selectedSlotLabel}}</text>
    </view>
    <view class="footer__btn" bindtap="onNextStep">ä¸‹ä¸€æ­¥ â†’</view>
  </view>
</view>
